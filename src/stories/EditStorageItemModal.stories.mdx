import { useState } from "react";
import { Meta, Story, ArgsTable, Canvas, Preview } from "@storybook/addon-docs";
import { Provider, useSelector } from "react-redux";

import { store } from '@/app/store';

import EditStorageItemModal from "@/app/components/modals/EditStorageItemModal";
import Button from "@/app/components/Button/Button";

<Meta 
  title="EditStorageItemModal" 
  component={EditStorageItemModal} 
  args={{
    initialValue={}
  }}
/>

<ArgsTable of={EditStorageItemModal}/>

export const EditStorageItemModalDefaultStory = (args) => {
  const [isOpen, setIsOpen] = useState(false);
  return (
    <>
    <Button onClick={() => setIsOpen(true)}>
      Open a EditStorageItem Modal
    </Button>
    <Provider store={store}>
      <EditStorageItemModal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        initialValue = {
          "provider": "github",
          "name": "takao",
          "id": "six7/figma-tokens",
          "branch": "main",
          "filePath": "token-transformer/tokens.json",
          "baseUrl": "",
          "secret": "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",
          "internalId": "fwSGFJHtqsxTOsiTNwa4uXYh"
        }
      />
    </Provider>
    </>
  )
}

<Canvas>
  <Story name="Default">
    {EditStorageItemModalDefaultStory.bind({})}
  </Story>
</Canvas>